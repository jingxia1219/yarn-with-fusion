{"version":3,"file":"client-main.js","mappings":";;;;;;;;;;;;;;;;;AAAA;AACA;AACA;;;;AAEA;AACA;AACA;AAEA;AACA;AAAA;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AAGA;AACA;AADA;AALA;AASA;AACA;;AAEA;AACA;AACA;;AACA;AACA;AAGA;AACA;AAEA;;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAQA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AALA;AAAA;AAAA;AAAA;AAAA;AAOA;AAhBA;AAAA;AAAA;AAAA;AAAA;AAHA;AAwBA;;AAEA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;;ACnEA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAkDA;;;;;;;;;;;;;;ACpDA;AACA;AACA;AAEA;AACA;AACA;;AACA;;AAIA;AACA;;;;;;;;;;;ACZA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;;AACA;AACA","sources":["/Users/user/Desktop/fusion-tutorial/src/components/root.js","/Users/user/Desktop/fusion-tutorial/src/components/style.js","/Users/user/Desktop/fusion-tutorial/src/main.js","/Users/user/Desktop/fusion-tutorial/src/plugins/todos.js"],"sourcesContent":["import React, {useState, useEffect} from 'react';\nimport Style from './style';\nimport fetch from 'isomorphic-fetch';\n\nconst Root = () => {\n    const [todos, setTodos] = useState([]);\n    const [input, setInput] = useState('');\n\n    useEffect(()=> {\n        fetch('/api/todos').then( res => res.json().then( res=> setTodos(res)))}\n    ,[] )\n\n    function keyDownHandler(e){\n        if(e.key === 'Enter'){\n            setInput('');\n            setTodos(prev => [...prev,input])\n            fetch('/api/todos',{\n                method:'POST',\n                headers:{\n                    'Content-Type':'application/json',\n                },\n                body: JSON.stringify({\n                    value:input\n                })\n            })\n        }\n    }\n\n    function changeHandler(e){\n        setInput(e.currentTarget.value)\n    }\n    function deleteHandler(e){\n        setTodos( prev => prev.filter( \n            (todo,idx) => \n            {\n                return idx!== +e.target.id\n        }\n            ))\n    }\n    \n    return (\n        <>\n        <Style/>\n            <h1>todos</h1>\n            <div className='container'>\n                <input onChange={changeHandler} \n                onKeyDown={keyDownHandler}\n                placeholder='What needs to be done?'\n                value={input}\n                type='text'\n                ></input>\n                {\n                    todos.map( (item,idx) => {\n                        return <div className='todo' key={idx}> \n                        \n                            <div className='todo-text'>\n                                {item}\n                            </div>\n                            <div id={idx} className='delete-x' onClick={deleteHandler}> x </div>\n                        </div>\n                    })\n                }\n            </div>\n        </>\n    )\n}\n\nexport default <Root />;","export default function Style(){\nreturn (\n    <style>\n{\n    `\n    body{\n        background-color: #f5f5f5;\n        front: 24x 'Helvetica Neue', Helvetica, Arial, sans-serif;\n    }\n    h1{\n        color: rgba(175, 47, 47, 0.15);\n        font-size: 100px;\n        font-weight: 100;\n        text-align:center;\n    }\n    .container {\n        background:#ffffff;\n        border: 1px solid #ededed;\n        margin: 0 auto;\n        width: 550px;\n    }\n    input {\n        border:none;\n        font-size:24px;\n        font-weight: 300;\n        padding:15px;\n        width: 520px;\n    }\n    input::placeholder {\n        color: #e6e6e6;\n        font-style:italic;\n        font-weight:100;\n    }\n    .todo{\n        border-top:1px solid #ededed;\n        padding: 15px;\n    }\n    .todo-text {\n        font-weight: 300;\n    }\n    .todo{\n        width:520px;\n        display: flex;\n        justify-content: space-between;\n    }\n    .delete-x{\n        cursor: pointer;\n    }\n    `\n}\n</style>\n)\n}\n\n","import App from 'fusion-react';\nimport Root from './components/root';\nimport TodosPlugin from './plugins/todos';\n\nexport default async function start(){\n    // const root = <div>Hello World</div>\n    const app = new App(Root);\n    if(__NODE__){\n        app.middleware(require('koa-bodyparser')());\n        app.middleware(TodosPlugin)\n    }\n    return app;\n}","const todos = ['Buy milk', 'Walk dog'];\n\nexport default async (ctx, next)=>{\n    if(ctx.path === '/api/todos') {\n        if(ctx.method === 'GET'){\n            ctx.response.body = todos;\n        } else if ( ctx.method === 'POST'){\n            // const {value} = ctx.request.body\n            todos.push(ctx.request.body.value)\n            ctx.response.status = 201; \n            \n        }\n    } \n    await next();\n}"],"names":[],"sourceRoot":""}