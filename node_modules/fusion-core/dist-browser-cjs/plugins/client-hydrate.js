"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = createClientHydrate;
exports.getSerializedRoutePrefix = getSerializedRoutePrefix;

/** Copyright (c) 2018 Uber Technologies, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * 
 */

/* eslint-env browser */
function createClientHydrate({
  element
}) {
  return function clientHydrate(ctx, next) {
    ctx.prefix = getSerializedRoutePrefix();
    ctx.element = element;
    ctx.preloadChunks = [];
    return next();
  };
}

function getSerializedRoutePrefix() {
  return window.__ROUTE_PREFIX__ || ''; // serialized by ./server
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9wbHVnaW5zL2NsaWVudC1oeWRyYXRlLmpzIl0sIm5hbWVzIjpbImNyZWF0ZUNsaWVudEh5ZHJhdGUiLCJlbGVtZW50IiwiY2xpZW50SHlkcmF0ZSIsImN0eCIsIm5leHQiLCJwcmVmaXgiLCJnZXRTZXJpYWxpemVkUm91dGVQcmVmaXgiLCJwcmVsb2FkQ2h1bmtzIiwid2luZG93IiwiX19ST1VURV9QUkVGSVhfXyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUVlLFNBQVNBLG1CQUFULENBQTZCO0FBQUNDLEVBQUFBO0FBQUQsQ0FBN0IsRUFBd0M7QUFDckQsU0FBTyxTQUFTQyxhQUFULENBQXVCQyxHQUF2QixFQUE0QkMsSUFBNUIsRUFBa0M7QUFDdkNELElBQUFBLEdBQUcsQ0FBQ0UsTUFBSixHQUFhQyx3QkFBd0IsRUFBckM7QUFDQUgsSUFBQUEsR0FBRyxDQUFDRixPQUFKLEdBQWNBLE9BQWQ7QUFDQUUsSUFBQUEsR0FBRyxDQUFDSSxhQUFKLEdBQW9CLEVBQXBCO0FBQ0EsV0FBT0gsSUFBSSxFQUFYO0FBQ0QsR0FMRDtBQU1EOztBQUVNLFNBQVNFLHdCQUFULEdBQW9DO0FBQ3pDLFNBQU9FLE1BQU0sQ0FBQ0MsZ0JBQVAsSUFBMkIsRUFBbEMsQ0FEeUMsQ0FDSDtBQUN2QyIsInNvdXJjZXNDb250ZW50IjpbIi8qKiBDb3B5cmlnaHQgKGMpIDIwMTggVWJlciBUZWNobm9sb2dpZXMsIEluYy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqXG4gKiBAbm9mbG93XG4gKi9cblxuLyogZXNsaW50LWVudiBicm93c2VyICovXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNyZWF0ZUNsaWVudEh5ZHJhdGUoe2VsZW1lbnR9KSB7XG4gIHJldHVybiBmdW5jdGlvbiBjbGllbnRIeWRyYXRlKGN0eCwgbmV4dCkge1xuICAgIGN0eC5wcmVmaXggPSBnZXRTZXJpYWxpemVkUm91dGVQcmVmaXgoKTtcbiAgICBjdHguZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgY3R4LnByZWxvYWRDaHVua3MgPSBbXTtcbiAgICByZXR1cm4gbmV4dCgpO1xuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0U2VyaWFsaXplZFJvdXRlUHJlZml4KCkge1xuICByZXR1cm4gd2luZG93Ll9fUk9VVEVfUFJFRklYX18gfHwgJyc7IC8vIHNlcmlhbGl6ZWQgYnkgLi9zZXJ2ZXJcbn1cbiJdfQ==