/** Copyright (c) 2018 Uber Technologies, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * 
 */

/* eslint-env node */
import * as React from 'react';
import { renderToString } from 'react-dom/server';
export default ((el, logger) => {
  try {
    return `<div id='root'>${renderToString(el)}</div>`;
  } catch (e) {
    if (process.env.NODE_ENV !== "production") {
      console.error('Server-side render failed. Falling back to client-side render', e);
    }

    logger && logger.error('SSR Failed with Error', e);
    return '<div id="root" data-fusion-render="client"></div>';
  }
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9zZXJ2ZXIuanMiXSwibmFtZXMiOlsiUmVhY3QiLCJyZW5kZXJUb1N0cmluZyIsImVsIiwibG9nZ2VyIiwiZSIsImNvbnNvbGUiLCJlcnJvciJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxPQUFPLEtBQUtBLEtBQVosTUFBdUIsT0FBdkI7QUFDQSxTQUFRQyxjQUFSLFFBQTZCLGtCQUE3QjtBQUdBLGdCQUFlLENBQUNDLEVBQUQsRUFBdUJDLE1BQXZCLEtBQTJDO0FBQ3hELE1BQUk7QUFDRixXQUFRLGtCQUFpQkYsY0FBYyxDQUFDQyxFQUFELENBQUssUUFBNUM7QUFDRCxHQUZELENBRUUsT0FBT0UsQ0FBUCxFQUFVO0FBQ1YsK0NBQWE7QUFDWEMsTUFBQUEsT0FBTyxDQUFDQyxLQUFSLENBQ0UsK0RBREYsRUFFRUYsQ0FGRjtBQUlEOztBQUNERCxJQUFBQSxNQUFNLElBQUlBLE1BQU0sQ0FBQ0csS0FBUCxDQUFhLHVCQUFiLEVBQXNDRixDQUF0QyxDQUFWO0FBQ0EsV0FBTyxtREFBUDtBQUNEO0FBQ0YsQ0FiRCIsInNvdXJjZXNDb250ZW50IjpbIi8qKiBDb3B5cmlnaHQgKGMpIDIwMTggVWJlciBUZWNobm9sb2dpZXMsIEluYy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqXG4gKiBAZmxvd1xuICovXG5cbi8qIGVzbGludC1lbnYgbm9kZSAqL1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHtyZW5kZXJUb1N0cmluZ30gZnJvbSAncmVhY3QtZG9tL3NlcnZlcic7XG5pbXBvcnQgdHlwZSB7TG9nZ2VyfSBmcm9tICdmdXNpb24tdG9rZW5zJztcblxuZXhwb3J0IGRlZmF1bHQgKGVsOiBSZWFjdC5FbGVtZW50PCo+LCBsb2dnZXI/OiBMb2dnZXIpID0+IHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gYDxkaXYgaWQ9J3Jvb3QnPiR7cmVuZGVyVG9TdHJpbmcoZWwpfTwvZGl2PmA7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBpZiAoX19ERVZfXykge1xuICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgJ1NlcnZlci1zaWRlIHJlbmRlciBmYWlsZWQuIEZhbGxpbmcgYmFjayB0byBjbGllbnQtc2lkZSByZW5kZXInLFxuICAgICAgICBlXG4gICAgICApO1xuICAgIH1cbiAgICBsb2dnZXIgJiYgbG9nZ2VyLmVycm9yKCdTU1IgRmFpbGVkIHdpdGggRXJyb3InLCBlKTtcbiAgICByZXR1cm4gJzxkaXYgaWQ9XCJyb290XCIgZGF0YS1mdXNpb24tcmVuZGVyPVwiY2xpZW50XCI+PC9kaXY+JztcbiAgfVxufTtcbiJdfQ==