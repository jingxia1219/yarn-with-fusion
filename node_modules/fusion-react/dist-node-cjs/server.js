"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var React = _interopRequireWildcard(require("react"));

var _server = require("react-dom/server");

function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }

function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

/** Copyright (c) 2018 Uber Technologies, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * 
 */

/* eslint-env node */
var _default = (el, logger) => {
  try {
    return `<div id='root'>${(0, _server.renderToString)(el)}</div>`;
  } catch (e) {
    if (process.env.NODE_ENV !== "production") {
      console.error('Server-side render failed. Falling back to client-side render', e);
    }

    logger && logger.error('SSR Failed with Error', e);
    return '<div id="root" data-fusion-render="client"></div>';
  }
};

exports.default = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9zZXJ2ZXIuanMiXSwibmFtZXMiOlsiZWwiLCJsb2dnZXIiLCJlIiwiY29uc29sZSIsImVycm9yIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBU0E7O0FBQ0E7Ozs7OztBQVZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO2VBS2UsQ0FBQ0EsRUFBRCxFQUF1QkMsTUFBdkIsS0FBMkM7QUFDeEQsTUFBSTtBQUNGLFdBQVEsa0JBQWlCLDRCQUFlRCxFQUFmLENBQW1CLFFBQTVDO0FBQ0QsR0FGRCxDQUVFLE9BQU9FLENBQVAsRUFBVTtBQUNWLCtDQUFhO0FBQ1hDLE1BQUFBLE9BQU8sQ0FBQ0MsS0FBUixDQUNFLCtEQURGLEVBRUVGLENBRkY7QUFJRDs7QUFDREQsSUFBQUEsTUFBTSxJQUFJQSxNQUFNLENBQUNHLEtBQVAsQ0FBYSx1QkFBYixFQUFzQ0YsQ0FBdEMsQ0FBVjtBQUNBLFdBQU8sbURBQVA7QUFDRDtBQUNGLEMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiogQ29weXJpZ2h0IChjKSAyMDE4IFViZXIgVGVjaG5vbG9naWVzLCBJbmMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKlxuICogQGZsb3dcbiAqL1xuXG4vKiBlc2xpbnQtZW52IG5vZGUgKi9cbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7cmVuZGVyVG9TdHJpbmd9IGZyb20gJ3JlYWN0LWRvbS9zZXJ2ZXInO1xuaW1wb3J0IHR5cGUge0xvZ2dlcn0gZnJvbSAnZnVzaW9uLXRva2Vucyc7XG5cbmV4cG9ydCBkZWZhdWx0IChlbDogUmVhY3QuRWxlbWVudDwqPiwgbG9nZ2VyPzogTG9nZ2VyKSA9PiB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIGA8ZGl2IGlkPSdyb290Jz4ke3JlbmRlclRvU3RyaW5nKGVsKX08L2Rpdj5gO1xuICB9IGNhdGNoIChlKSB7XG4gICAgaWYgKF9fREVWX18pIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICdTZXJ2ZXItc2lkZSByZW5kZXIgZmFpbGVkLiBGYWxsaW5nIGJhY2sgdG8gY2xpZW50LXNpZGUgcmVuZGVyJyxcbiAgICAgICAgZVxuICAgICAgKTtcbiAgICB9XG4gICAgbG9nZ2VyICYmIGxvZ2dlci5lcnJvcignU1NSIEZhaWxlZCB3aXRoIEVycm9yJywgZSk7XG4gICAgcmV0dXJuICc8ZGl2IGlkPVwicm9vdFwiIGRhdGEtZnVzaW9uLXJlbmRlcj1cImNsaWVudFwiPjwvZGl2Pic7XG4gIH1cbn07XG4iXX0=