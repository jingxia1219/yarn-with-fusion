/** Copyright (c) 2018 Uber Technologies, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * 
 */
import React from 'react';
import { jsx as _jsx } from "react/jsx-runtime";
const keys = ['meta', 'link', 'style', 'base', 'noscript', 'script'];
const plugin = false && createPlugin({
  middleware: () => {
    return async (ctx, next) => {
      if (!ctx.element) {
        return next();
      }

      const helmetContext = {};
      ctx.element = /*#__PURE__*/_jsx(HelmetProvider, {
        context: helmetContext,
        children: ctx.element
      });
      await next();
      const {
        helmet
      } = helmetContext;

      if (helmet) {
        ctx.template.title = dangerouslySetHTML(helmet.title.toString().replace('</title>', '').replace(/^<title.*>/, ''));
        keys.forEach(key => {
          ctx.template.head.push(dangerouslySetHTML(helmet[key].toString()));
        });
        Object.assign(ctx.template.htmlAttrs, helmet.htmlAttributes.toComponent());
      }
    };
  }
});
export default plugin;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9zZXJ2ZXIuanMiXSwibmFtZXMiOlsiUmVhY3QiLCJrZXlzIiwicGx1Z2luIiwiY3JlYXRlUGx1Z2luIiwibWlkZGxld2FyZSIsImN0eCIsIm5leHQiLCJlbGVtZW50IiwiaGVsbWV0Q29udGV4dCIsImhlbG1ldCIsInRlbXBsYXRlIiwidGl0bGUiLCJkYW5nZXJvdXNseVNldEhUTUwiLCJ0b1N0cmluZyIsInJlcGxhY2UiLCJmb3JFYWNoIiwia2V5IiwiaGVhZCIsInB1c2giLCJPYmplY3QiLCJhc3NpZ24iLCJodG1sQXR0cnMiLCJodG1sQXR0cmlidXRlcyIsInRvQ29tcG9uZW50Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBLE9BQU9BLEtBQVAsTUFBa0IsT0FBbEI7O0FBTUEsTUFBTUMsSUFBSSxHQUFHLENBQUMsTUFBRCxFQUFTLE1BQVQsRUFBaUIsT0FBakIsRUFBMEIsTUFBMUIsRUFBa0MsVUFBbEMsRUFBOEMsUUFBOUMsQ0FBYjtBQUVBLE1BQU1DLE1BQU0sR0FDVixTQUNBQyxZQUFZLENBQUM7QUFDWEMsRUFBQUEsVUFBVSxFQUFFLE1BQU07QUFDaEIsV0FBTyxPQUFPQyxHQUFQLEVBQVlDLElBQVosS0FBcUI7QUFDMUIsVUFBSSxDQUFDRCxHQUFHLENBQUNFLE9BQVQsRUFBa0I7QUFDaEIsZUFBT0QsSUFBSSxFQUFYO0FBQ0Q7O0FBQ0QsWUFBTUUsYUFBYSxHQUFHLEVBQXRCO0FBQ0FILE1BQUFBLEdBQUcsQ0FBQ0UsT0FBSixnQkFDRSxLQUFDLGNBQUQ7QUFBZ0IsUUFBQSxPQUFPLEVBQUVDLGFBQXpCO0FBQUEsa0JBQXlDSCxHQUFHLENBQUNFO0FBQTdDLFFBREY7QUFHQSxZQUFNRCxJQUFJLEVBQVY7QUFDQSxZQUFNO0FBQUNHLFFBQUFBO0FBQUQsVUFBV0QsYUFBakI7O0FBQ0EsVUFBSUMsTUFBSixFQUFZO0FBQ1ZKLFFBQUFBLEdBQUcsQ0FBQ0ssUUFBSixDQUFhQyxLQUFiLEdBQXFCQyxrQkFBa0IsQ0FDckNILE1BQU0sQ0FBQ0UsS0FBUCxDQUNHRSxRQURILEdBRUdDLE9BRkgsQ0FFVyxVQUZYLEVBRXVCLEVBRnZCLEVBR0dBLE9BSEgsQ0FHVyxZQUhYLEVBR3lCLEVBSHpCLENBRHFDLENBQXZDO0FBTUFiLFFBQUFBLElBQUksQ0FBQ2MsT0FBTCxDQUFjQyxHQUFELElBQVM7QUFDcEJYLFVBQUFBLEdBQUcsQ0FBQ0ssUUFBSixDQUFhTyxJQUFiLENBQWtCQyxJQUFsQixDQUF1Qk4sa0JBQWtCLENBQUNILE1BQU0sQ0FBQ08sR0FBRCxDQUFOLENBQVlILFFBQVosRUFBRCxDQUF6QztBQUNELFNBRkQ7QUFHQU0sUUFBQUEsTUFBTSxDQUFDQyxNQUFQLENBQ0VmLEdBQUcsQ0FBQ0ssUUFBSixDQUFhVyxTQURmLEVBRUVaLE1BQU0sQ0FBQ2EsY0FBUCxDQUFzQkMsV0FBdEIsRUFGRjtBQUlEO0FBQ0YsS0F6QkQ7QUEwQkQ7QUE1QlUsQ0FBRCxDQUZkO0FBaUNBLGVBQWlCckIsTUFBakIiLCJzb3VyY2VzQ29udGVudCI6WyIvKiogQ29weXJpZ2h0IChjKSAyMDE4IFViZXIgVGVjaG5vbG9naWVzLCBJbmMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKlxuICogQGZsb3dcbiAqL1xuXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHtjcmVhdGVQbHVnaW4sIGRhbmdlcm91c2x5U2V0SFRNTH0gZnJvbSAnZnVzaW9uLWNvcmUnO1xuaW1wb3J0IHtIZWxtZXRQcm92aWRlcn0gZnJvbSAncmVhY3QtaGVsbWV0LWFzeW5jJztcblxuaW1wb3J0IHR5cGUge0Z1c2lvblBsdWdpbn0gZnJvbSAnZnVzaW9uLWNvcmUnO1xuXG5jb25zdCBrZXlzID0gWydtZXRhJywgJ2xpbmsnLCAnc3R5bGUnLCAnYmFzZScsICdub3NjcmlwdCcsICdzY3JpcHQnXTtcblxuY29uc3QgcGx1Z2luID1cbiAgX19OT0RFX18gJiZcbiAgY3JlYXRlUGx1Z2luKHtcbiAgICBtaWRkbGV3YXJlOiAoKSA9PiB7XG4gICAgICByZXR1cm4gYXN5bmMgKGN0eCwgbmV4dCkgPT4ge1xuICAgICAgICBpZiAoIWN0eC5lbGVtZW50KSB7XG4gICAgICAgICAgcmV0dXJuIG5leHQoKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBoZWxtZXRDb250ZXh0ID0ge307XG4gICAgICAgIGN0eC5lbGVtZW50ID0gKFxuICAgICAgICAgIDxIZWxtZXRQcm92aWRlciBjb250ZXh0PXtoZWxtZXRDb250ZXh0fT57Y3R4LmVsZW1lbnR9PC9IZWxtZXRQcm92aWRlcj5cbiAgICAgICAgKTtcbiAgICAgICAgYXdhaXQgbmV4dCgpO1xuICAgICAgICBjb25zdCB7aGVsbWV0fSA9IGhlbG1ldENvbnRleHQ7XG4gICAgICAgIGlmIChoZWxtZXQpIHtcbiAgICAgICAgICBjdHgudGVtcGxhdGUudGl0bGUgPSBkYW5nZXJvdXNseVNldEhUTUwoXG4gICAgICAgICAgICBoZWxtZXQudGl0bGVcbiAgICAgICAgICAgICAgLnRvU3RyaW5nKClcbiAgICAgICAgICAgICAgLnJlcGxhY2UoJzwvdGl0bGU+JywgJycpXG4gICAgICAgICAgICAgIC5yZXBsYWNlKC9ePHRpdGxlLio+LywgJycpXG4gICAgICAgICAgKTtcbiAgICAgICAgICBrZXlzLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgICAgICAgY3R4LnRlbXBsYXRlLmhlYWQucHVzaChkYW5nZXJvdXNseVNldEhUTUwoaGVsbWV0W2tleV0udG9TdHJpbmcoKSkpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIE9iamVjdC5hc3NpZ24oXG4gICAgICAgICAgICBjdHgudGVtcGxhdGUuaHRtbEF0dHJzLFxuICAgICAgICAgICAgaGVsbWV0Lmh0bWxBdHRyaWJ1dGVzLnRvQ29tcG9uZW50KClcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH0sXG4gIH0pO1xuXG5leHBvcnQgZGVmYXVsdCAoKHBsdWdpbjogYW55KTogRnVzaW9uUGx1Z2luPHZvaWQsIHZvaWQ+KTtcbiJdfQ==